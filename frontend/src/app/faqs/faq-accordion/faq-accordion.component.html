<mat-accordion>
  <mat-expansion-panel
    *ngFor="let faq of faqs"
    [expanded]="selectedFaq?.id === faq.id"
  >
    <mat-expansion-panel-header (click)="onFaqSelected(faq)">
      <mat-panel-title>
        <strong [innerHTML]="faq.title"></strong>
      </mat-panel-title>
    </mat-expansion-panel-header>
    
    <strong *ngIf="selectedFaqCategory.topQuestionsCategory">
      From the <span style="text-decoration: underline;">{{faq.category.title}}</span> Category
    </strong>

    <p class="ml-4" style="margin-top: 5px;">
      <strong>Description:</strong>
      <span [innerHTML]="faq.description"></span>
    </p>
    <p class="ml-4">
      <strong>Details:</strong>
      <span [innerHTML]="faq.info"></span>
    </p>
    <p class="ml-4" style="" *ngIf="userIsAdmin">
      This FAQ has been viewed <u>{{faq.timesViewed}}</u> time(s)<br />
      <span style="font-size: 8pt;">As an admin your view of this FAQ will not be counted</span>
    </p>

    <!-- FAQ Admin Toolbar -->
    <mat-divider *ngIf="userIsAdmin" class="mb-1"></mat-divider>
    <div class="d-flex flex-row justify-content-end" *ngIf="userIsAdmin">
      <button
        mat-icon-button
        color="primary"
        matTooltip="Edit FAQ"
        (click)="onClickEditFaq(faq)"
      >
        <mat-icon>edit</mat-icon>
      </button>
      <button
        mat-icon-button
        color="warn"
        matTooltip="Delete FAQ"
        (click)="onClickDeleteFaq(faq)"
      >
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </mat-expansion-panel>
</mat-accordion>
